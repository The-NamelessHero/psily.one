<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Tree of Love – Psily.one</title>
  <link rel="stylesheet" href="../style.css">

  <!-- vis-network CSS & JS -->
  <link href="https://unpkg.com/vis-network/styles/vis-network.min.css" rel="stylesheet" />
  <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>

  <style>
    body {
      margin: 0; padding: 1em;
      background: #1a0f1f;
      color: #f8e1ff;
      font-family: Georgia, serif;
    }
    header { text-align: center; margin-bottom: 1em; }
    nav a, nav button {
      margin: 0 1em; color: #b892ff;
      text-decoration: none; background: none; border: none;
      font: inherit; cursor: pointer;
    }
    #network {
      width: 100%; height: 75vh;
      border: 2px solid #774da9;
      border-radius: 8px;
      background: #2d1b3a;
    }
    footer { text-align: center; margin-top: 1em; }
    footer a { color: #b892ff; text-decoration: none; }
  </style>
</head>
<body>

  <header>
    <nav>
      <a href="/">🌀 Home</a>
      <a href="/scroll/">✍️ Write a Scroll</a>
      <a href="/library/">🏛️ Library</a>
      <a href="/profile/">👤 Profile</a>
      <button onclick="toggleDark()">🌓</button>
    </nav>
    <h1>🌳 Tree of Love</h1>
    <p>A block-style family tree with special “love” links highlighted in red.</p>
  </header>

  <div id="network"></div>

  <footer>
    <a href="/">← Back to Psily.one</a>
  </footer>

  <script>
    function toggleDark(){
      document.body.classList.toggle('light-mode');
    }

    // 1) Define all your people as nodes
    const nodes = new vis.DataSet([
      // parents
      { id: 1, label: 'Ronald',   shape:'box' },
      { id: 2, label: 'Catherine',shape:'box' },
      // their children
      { id: 3, label: 'Joshua',   shape:'box' },
      { id: 4, label: 'Justin',   shape:'box', color:{ background:'#ffde7d' } },
      { id: 5, label: 'Jennifer', shape:'box' },
      { id: 6, label: 'Jacob',    shape:'box' },
      // love-interest nodes (could be outside this nuclear tree)
      { id: 7, label: 'Samantha',shape:'box' },
      { id: 8, label: 'Kristina', shape:'box' }
    ]);

    // 2) Normal parent→child edges (solid, in your accent color)
    const parentChildEdges = [
      { from: 1, to: 3 },
      { from: 1, to: 4 },
      { from: 1, to: 5 },
      { from: 1, to: 6 },
      { from: 2, to: 3 },
      { from: 2, to: 4 },
      { from: 2, to: 5 },
      { from: 2, to: 6 }
    ].map(e => ({
      ...e,
      arrows: 'to',
      color: { color: '#cfaaff' },
      smooth: { type:'straight' },
      width: 2
    }));

    // 3) “Love links” in bright red, dashed
    const loveEdges = [
      { from: 4, to: 7 },  // Justin ↔ Samantha
      { from: 4, to: 8 }   // Justin ↔ Kristina
    ].map(e => ({
      ...e,
      dashes: true,
      color: { color: 'red' },
      width: 3,
      arrows: ''            // no arrow for love-link
    }));

    const edges = new vis.DataSet([ ...parentChildEdges, ...loveEdges ]);

    // 4) Initialize the network
    const container = document.getElementById('network');
    const data = { nodes, edges };
    const options = {
      layout: {
        hierarchical: {
          enabled: true,
          direction: 'UD',        // top down
          sortMethod: 'directed',
          nodeSpacing: 200,
          levelSeparation: 150
        }
      },
      interaction: {
        dragNodes: true,
        dragView:  true,
        zoomView:  true
      },
      physics: { enabled: false }
    };
    new vis.Network(container, data, options);
  </script>
</body>
</html>
